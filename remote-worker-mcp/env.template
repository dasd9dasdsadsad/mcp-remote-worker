# ═══════════════════════════════════════════════════════════════════
# MCP Remote Worker Environment Configuration
# ═══════════════════════════════════════════════════════════════════
# Copy this file to .env and update with your actual values
# ═══════════════════════════════════════════════════════════════════

# ┌─────────────────────────────────────────────────────────────────┐
# │                    REQUIRED CONFIGURATION                        │
# └─────────────────────────────────────────────────────────────────┘

# Your MCP Manager server IP address or domain name
# This is where your Cursor IDE and MCP Manager are running
MANAGER_HOST=10.20.30.40

# Your Cursor API Key (get from Cursor settings)
CURSOR_API_KEY=key_b0686b990d598653e8e3758b72fc0b65e64ec1a5fa3878ea7db993db0a1e1bf9

# ┌─────────────────────────────────────────────────────────────────┐
# │                    SERVICE ENDPOINTS                             │
# └─────────────────────────────────────────────────────────────────┘
# By default, all services are on MANAGER_HOST
# Uncomment and modify if services are on different servers

# NATS Message Broker
# NATS_HOST=10.20.30.40
# NATS_PORT=4222

# Redis Cache
# REDIS_HOST=10.20.30.40
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password

# PostgreSQL Database
# POSTGRES_HOST=10.20.30.40
# POSTGRES_PORT=5432
# POSTGRES_DB=mcp_manager
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=postgres

# ┌─────────────────────────────────────────────────────────────────┐
# │                    WORKER CONFIGURATION                          │
# └─────────────────────────────────────────────────────────────────┘

# Worker identification (leave empty for auto-generation)
# WORKER_ID=

# Worker number (for multiple workers on same host)
WORKER_NUMBER=1

# Tags to identify this worker
WORKER_TAGS=mcp,docker,remote,enhanced,production

# ┌─────────────────────────────────────────────────────────────┐
# │                    RESOURCE LIMITS                               │
# └─────────────────────────────────────────────────────────────────┘

# CPU limits (e.g., '2' for 2 cores, '0.5' for half a core)
WORKER_CPU_LIMIT=2
WORKER_CPU_RESERVE=0.5

# Memory limits (e.g., '4G' for 4GB, '512M' for 512MB)
WORKER_MEMORY_LIMIT=4G
WORKER_MEMORY_RESERVE=1G

# Worker capabilities
MAX_CONCURRENT_TASKS=5
MAX_MEMORY_MB=4096
HEARTBEAT_INTERVAL_MS=10000

# ┌─────────────────────────────────────────────────────────────┐
# │                    DEPLOYMENT NOTES                              │
# └─────────────────────────────────────────────────────────────────┘
#
# 1. Make sure MANAGER_HOST ports are accessible:
#    - 4222 (NATS)
#    - 6379 (Redis) 
#    - 5432 (PostgreSQL)
#
# 2. Firewall rules on manager server:
#    sudo ufw allow 4222/tcp
#    sudo ufw allow 6379/tcp
#    sudo ufw allow 5432/tcp
#
# 3. Services on manager must listen on 0.0.0.0, not 127.0.0.1
#
# 4. For production, use:
#    - Strong PostgreSQL password
#    - Redis password
#    - TLS/SSL for connections
#
# ═══════════════════════════════════════════════════════════════════
